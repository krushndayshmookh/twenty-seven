<template lang="pug">
  q-layout(view="lHh Lpr lFf")

    q-header(elevated)
      q-toolbar
        q-btn(flat dense round icon="menu" aria-label="Menu" @click="leftDrawerOpen = !leftDrawerOpen")

        q-toolbar-title Twenty 7

        div
          q-toggle(left-label color="green" v-model="darkMode" label="Dark Mode")

        div Quasar v{{ $q.version }}

    q-drawer(v-model="leftDrawerOpen" show-if-above bordered)
      q-list
        q-item-label.text-grey-8(header) Essential Links

        EssentialLink(v-for="link in essentialLinks" :key="link.title" v-bind="link")

    q-page-container
      router-view

</template>

<script>
import EssentialLink from 'components/EssentialLink'

export default {
  name: 'MainLayout',

  components: {
    EssentialLink
  },

  data() {
    return {
      leftDrawerOpen: false,
      essentialLinks: [
        {
          title: 'Docs',
          caption: 'quasar.dev',
          icon: 'school',
          link: 'https://quasar.dev'
        },
        {
          title: 'Github',
          caption: 'github.com/quasarframework',
          icon: 'code',
          link: 'https://github.com/quasarframework'
        },
        {
          title: 'Discord Chat Channel',
          caption: 'chat.quasar.dev',
          icon: 'chat',
          link: 'https://chat.quasar.dev'
        },
        {
          title: 'Forum',
          caption: 'forum.quasar.dev',
          icon: 'record_voice_over',
          link: 'https://forum.quasar.dev'
        },
        {
          title: 'Twitter',
          caption: '@quasarframework',
          icon: 'rss_feed',
          link: 'https://twitter.quasar.dev'
        },
        {
          title: 'Facebook',
          caption: '@QuasarFramework',
          icon: 'public',
          link: 'https://facebook.quasar.dev'
        }
      ]
    }
  },

  computed: {
    darkMode: {
      get: function() {
        return this.$q.dark.isActive
      },
      set: function(val) {
        this.$q.dark.set(val)
      }
    }
  }
}
</script>
